<!doctype html>
<html lang="en">
    <head>
        <title>Face tracker</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="video-example.css">
        <script>
            // getUserMedia only works over https in Chrome 47+, so we redirect to https. Also notify user if running from file.
            if (window.location.protocol == "file:") {
                alert("You seem to be running this example directly from a file. Note that these examples only work when served from a server or localhost due to canvas cross-domain restrictions.");
            } else if (window.location.hostname !== "localhost" && window.location.protocol !== "https:"){
                window.location.protocol = "https";
            }
        </script>
        <script src="https://webrtc.github.io/adapter/adapter-1.0.2.js"></script>
        <script src="../build/clmtrackr.js"></script>
        <script src="./js/libs/Stats.js"></script>
    </head>
    <body>
        <div id="content">
            <div id="container">
                <video id="videoel" width="400" height="300" preload="auto" loop playsinline autoplay>
                </video>
                <canvas id="overlay" width="400" height="300"></canvas>
            </div>
            <br/>
            <div id="text">
                <p>This is an example of face tracking using the javascript library <a href="https://github.com/auduno/clmtrackr"><em>clmtrackr</em></a>. The fitting method is generally called "Non-rigid/deformable face tracking/alignment using constrained local models".</p>
                <p>Note that this example works best in Google Chrome, with a computer that supports WebGL and floating point textures. It should however work in any modern browser.</p>
                <div id="gum" class="gum">
                    <p>To try it out:
                        <ol>
                            <li>allow the page to use your webcamera</li>
                            <li>make sure that your face is clearly visible in the video, and click start</li>
                            <li>see the model fitted to your face</li>
                            <ol>
                    </p>
                </div>
                <div id="nogum" class="nogum">
                    <p>
                        There was some problem trying to capture your webcamera, please check that your browser supports WebRTC. Using a fallback video instead. To try it out:
                        <ol>
                            <li>click start</li>
                            <li>see the model fitted to the face</li>
                        </ol>
                    </p>
                </div>
            </div>
        </div>
        <script type="module" src="activate-tracking.js"></script>
    </body>
</html>
